#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."
echo ""

# Run TypeScript type check
echo "1ï¸âƒ£ TypeScript type check..."
npm run type-check
if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ TypeScript errors found! Push blocked."
  echo "ğŸ’¡ Fix the errors above and try again."
  exit 1
fi

echo "âœ… TypeScript check passed"
echo ""

# Run linter (warnings don't block)
echo "2ï¸âƒ£ Running linter..."
npm run lint
echo ""

echo "âœ… All checks passed! Pushing..."

